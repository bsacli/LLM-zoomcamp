{"text": "If you\u2019re getting TypeError:\n\u201cTypeError: Expecting a sequence of strings for feature names, got: <class 'numpy.ndarray'>\u201d,\nprobably you\u2019ve done this:\nfeatures = dv.get_feature_names_out()\nIt gets you np.ndarray instead of list. Converting to list list(features) will not fix this, read below.\nIf you\u2019re getting ValueError:\n\u201cValueError: feature_names must be string, and may not contain [, ] or <\u201d,\nprobably you\u2019ve either done:\nfeatures = list(dv.get_feature_names_out())\nor:\nfeatures = dv.feature_names_\nreason is what you get from DictVectorizer here looks like this:\n['households',\n'housing_median_age',\n'latitude',\n'longitude',\n'median_income',\n'ocean_proximity=<1H OCEAN',\n'ocean_proximity=INLAND',\n'population',\n'total_bedrooms',\n'total_rooms']\nit has symbols XGBoost doesn\u2019t like ([, ] or <).\nWhat you can do, is either do not specify \u201cfeature_names=\u201d while creating xgb.DMatrix or:\nimport re\nfeatures = dv.feature_names_\npattern = r'[\\[\\]<>]'\nfeatures = [re.sub(pattern, '  ', f) for f in features]\nAdded by Andrii Larkin", "section": "6. Decision Trees and Ensemble Learning", "question": "Q6: ValueError or TypeError while setting xgb.DMatrix(feature_names=)", "course": "machine-learning-zoomcamp", "document_id": "c920eef3"}