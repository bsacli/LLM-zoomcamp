{"text": "Problem description\nProject structure:\n/sources/production/model_service.py\n/sources/tests/unit_tests/test_model_service.py (\u201cfrom production.model_service import ModelService)\ngit commit -t \u2018test\u2019 raises \u2018No module named \u2018production\u2019\u2019 when calling pytest hook\n- repo: local\nhooks:\n- id: pytest-check\nname: pytest-check\nentry: pytest\nlanguage: system\npass_filenames: false\nalways_run: true\nargs: [\n\"tests/\"\n]\nSolution description\nUse this hook instead:\n- repo: local\nhooks:\n- id: pytest-check\nname: pytest-check\nentry: \"./sources/tests/unit_tests/run.sh\"\nlanguage: system\ntypes: [python]\npass_filenames: false\nalways_run: true\nAnd make sure that run.sh sets the right directory and run pytest:\ncd \"$(dirname \"$0\")\"\ncd ../..\nexport PYTHONPATH=.\npipenv run pytest ./tests/unit_tests\nAdded by MarcosMJD", "section": "Module 6: Best practices", "question": "Pytest error \u2018module not found\u2019 when using pre-commit hooks if using custom packages in the source code", "course": "mlops-zoomcamp", "document_id": "8b04605d"}