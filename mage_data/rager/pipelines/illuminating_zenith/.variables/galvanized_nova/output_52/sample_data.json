{"text": "As seen in this video: https://www.youtube.com/watch?v=ptByfB_YcEg&t=102s, we can get scores on obtained hits that are greater than 1 despite having a \u201ccosine\u201d similarity measure in our index settings. We would thus expect scores between -1 and 1. However, in the case of the final query, we have several scores additionned together to provide the final score:\nThe KNN related score, which is between -1 and 1 (cosine similarity)\nThe text relevance score:  BM25 algorithm scores which can be any positive number, including above 1. This is a \u201cranking function which calculates score to represent a document's relevance with respect to query\u201d (source: https://stackoverflow.com/questions/43794749/what-is-bm25-and-why-elasticsearch-chose-this-algorithm-for-scoring-in-version-5).\nSince we have a \u201cmatch\u201d filter in our query, this triggers the usage of the BM25 ranking algorithm and the final score contains this information.\nTo get more details about the final scores, you can modify the search query and add an \u201cexplain\u201d parameter:\nresponse = es_client.search(\nindex=index_name,\nquery={\n\"match\": {\"section\": \"General course-related questions\"},\n},\nknn=knn_query,\nsize=5,\nexplain=True\n)\nAdded by M\u00e9lanie Fouesnard", "section": "Module 3: X", "question": "Why do I get scores greater than 1 on my hits after querying my ElasticSearch database ?", "course": "llm-faq-v1", "document_id": "e5b25e0d"}